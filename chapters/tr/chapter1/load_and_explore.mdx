# Bir ses veri k羹mesini y羹kleyin ve kefedin

Bu kurs boyunca ses veri k羹meleriyle 癟al覺mak i癟in  Datasets k羹t羹phanesini kullanaca覺z.  Datasets, ses dahil t羹m modalitelerden veri k羹melerini indirmek ve haz覺rlamak i癟in kullan覺lan a癟覺k kaynakl覺 bir k羹t羹phanedir. Bu k羹t羹phane, Hugging Face Hub 羹zerinde kamuya a癟覺k olarak kullan覺labilir durumda olan benzersiz bir makine 繹renimi veri k羹mesine kolay eriim sunar. Ayr覺ca,  Datasets, arat覺rmac覺lar ve uygulamac覺lar i癟in ses veri k羹meleriyle 癟al覺may覺 basitletiren 癟eitli ses veri k羹mesi 繹zellikleri i癟erir.

Ses veri k羹meleriyle 癟al覺maya balamak i癟in  Veri K羹meleri kitapl覺覺n覺n kurulu olduundan emin olun:

```bash
pip install datasets[audio]
```

 Veri K羹melerinin en 繹nemli tan覺mlay覺c覺 繹zelliklerinden biri, tek bir sat覺rda veri k羹mesini indirip haz覺rlayabilme yeteneidir.
'load_dataset()' ilevini kullanan Python kodu.

Haydi y羹kleyip kefedelim ve aa覺dakileri i癟eren [MINDS-14](https://huggingface.co/datasets/PolyAI/minds14) adl覺 ses veri k羹mesini y羹kleyelim
e-bankac覺l覺k sistemine 癟eitli dil ve leh癟elerde sorular soran kiilerin kay覺tlar覺.

MINDS-14 veri k羹mesini y羹klemek i癟in veri k羹mesinin tan覺mlay覺c覺s覺n覺 Hub'a kopyalay覺p ("PolyAI/minds14") aktarmam覺z gerekir.
'load_dataset' ilevine. Ayr覺ca yaln覺zca Avustralya alt k羹mesiyle (`en-AU`) ilgilendiimizi de belirteceiz.
verileri kullan覺n ve bunu eitim b繹l羹m羹yle s覺n覺rland覺r覺n:

```py
from datasets import load_dataset

minds = load_dataset("PolyAI/minds14", name="en-AU", split="train")
minds
```

**覺kt覺:**
```out
Dataset(
    {
        features: [
            "path",
            "audio",
            "transcription",
            "english_transcription",
            "intent_class",
            "lang_id",
        ],
        num_rows: 654,
    }
)
```


Veri k羹mesi, her biri bir transkript, bir 襤ngilizce 癟eviri ve kiinin sorgusu arkas覺ndaki niyeti g繹steren bir etiket ile elenmi 654 ses dosyas覺n覺 i癟erir. "audio" s羹tunu ham ses verisini i癟erir. Bir 繹rnee daha yak覺ndan bakal覺m:

```py
example = minds[0]
example
```

**覺kt覺:**
```out
{
    "path": "/root/.cache/huggingface/datasets/downloads/extracted/f14948e0e84be638dd7943ac36518a4cf3324e8b7aa331c5ab11541518e9368c/en-AU~PAY_BILL/response_4.wav",
    "audio": {
        "path": "/root/.cache/huggingface/datasets/downloads/extracted/f14948e0e84be638dd7943ac36518a4cf3324e8b7aa331c5ab11541518e9368c/en-AU~PAY_BILL/response_4.wav",
        "array": array(
            [0.0, 0.00024414, -0.00024414, ..., -0.00024414, 0.00024414, 0.0012207],
            dtype=float32,
        ),
        "sampling_rate": 8000,
    },
    "transcription": "I would like to pay my electricity bill using my card can you please assist",
    "english_transcription": "I would like to pay my electricity bill using my card can you please assist",
    "intent_class": 13,
    "lang_id": 2,
}
```

Ses s羹tununun 癟eitli 繹zellikler i癟erdiini fark edebilirsiniz. 襤te bunlar:
* `path`: ses dosyas覺n覺n yolu (bu durumda `*.wav`).
* `array`: 1 boyutlu NumPy dizisi olarak temsil edilen kodu 癟繹z羹lm羹 ses verileri.
* `sampling_rate`. Ses dosyas覺n覺n 繹rnekleme h覺z覺 (bu 繹rnekte 8.000 Hz).

'Intent_class' ses kayd覺n覺n bir s覺n覺fland覺rma kategorisidir. Bu say覺y覺 anlaml覺 bir dizeye d繹n羹t羹rmek i癟in,
'int2str()' y繹ntemini kullanabiliriz:

```py
id2label = minds.features["intent_class"].int2str
id2label(example["intent_class"])
```

**覺kt覺:**
```out
"pay_bill"
```

Transkripsiyon 繹zelliine bakarsan覺z ses dosyas覺n覺n ger癟ekten de soru soran bir kiiyi kaydettiini g繹rebilirsiniz.
Bir faturan覺n 繹denmesiyle ilgili.

Bu veri alt k羹mesinde bir ses s覺n覺fland覺r覺c覺s覺 eitmeyi planl覺yorsan覺z, t羹m 繹zelliklere kesinlikle ihtiyac覺n覺z olmayabilir. rnein, "lang_id" t羹m 繹rnekler i癟in ayn覺 deere sahip olacak ve faydal覺 olmayacakt覺r. "english_transcription" b羹y羹k olas覺l覺kla bu alt k羹medeki "transcription" ile ayn覺 bilgileri i癟erdiinden, bunlar覺 g羹venli bir ekilde kald覺rabiliriz.

 Datasets'in `remove_columns` y繹ntemini kullanarak alakas覺z 繹zellikleri kolayca kald覺rabilirsiniz:

```py
columns_to_remove = ["lang_id", "english_transcription"]
minds = minds.remove_columns(columns_to_remove)
minds
```

**覺kt覺:**
```out
Dataset({features: ["path", "audio", "transcription", "intent_class"], num_rows: 654})
```

Art覺k veri setinin ham i癟eriini y羹kleyip incelediimize g繹re birka癟 繹rnek dinleyelim! 'Bloklar'覺 kullanaca覺z
ve veri k羹mesinden rastgele birka癟 繹rnein kodunu 癟繹zmek i癟in "Gradio"daki "Ses" 繹zellikleri:

```py
import gradio as gr


def generate_audio():
    example = minds.shuffle()[0]
    audio = example["audio"]
    return (
        audio["sampling_rate"],
        audio["array"],
    ), id2label(example["intent_class"])


with gr.Blocks() as demo:
    with gr.Column():
        for _ in range(4):
            audio, label = generate_audio()
            output = gr.Audio(audio, label=label)

demo.launch(debug=True)
```

襤sterseniz baz覺 繹rnekleri de g繹rselletirebilirsiniz. 襤lk 繹rnek i癟in dalga formunu 癟izelim.

```py
import librosa
import matplotlib.pyplot as plt
import librosa.display

array = example["audio"]["array"]
sampling_rate = example["audio"]["sampling_rate"]

plt.figure().set_figwidth(12)
librosa.display.waveshow(array, sr=sampling_rate)
```

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/huggingface-course/audio-course-images/resolve/main/waveform_unit1.png" alt="Waveform plot">
</div>

Deneyin! MINDS-14 veri k羹mesinin baka bir leh癟esini veya dilini indirin, bir fikir edinmek i癟in baz覺 繹rnekleri dinleyin ve g繹rselletirin
t羹m veri k羹mesindeki varyasyon. Mevcut dillerin tam listesini [burada](https://huggingface.co/datasets/PolyAI/minds14) bulabilirsiniz.