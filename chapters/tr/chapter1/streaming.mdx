# Ses verileri ak覺覺

Ses veri k羹melerinde kar覺la覺lan en b羹y羹k zorluklardan biri boyutlar覺d覺r. Tek bir dakikal覺k s覺k覺t覺r覺lmam覺 CD kalitesinde ses (44,1 kHz, 16 bit)
5 MB'tan biraz daha fazla depolama alan覺 kapl覺yor. Tipik olarak bir ses veri k羹mesi saatlerce kay覺t i癟erir.

nceki b繹l羹mlerde MINDS-14 ses veri k羹mesinin 癟ok k羹癟羹k bir alt k羹mesini kulland覺k, ancak tipik ses veri k羹meleri 癟ok daha b羹y羹kt羹r.
rnein, [SpeechColab'dan GigaSpeech](https://huggingface.co/datasets/speechcolab/gigaspeech)'in "xs" (en k羹癟羹k) yap覺land覺rmas覺
yaln覺zca 10 saatlik eitim verisi i癟erir ancak indirme ve haz覺rl覺k i癟in 13 GB'覺n 羹zerinde depolama alan覺 kaplar. Ne olmu
Daha b羹y羹k bir split 羹zerinde antrenman yapmak istediimizde ne olur? Ayn覺 veri k羹mesinin tam 'xl' yap覺land覺rmas覺 10.000 saatlik veri i癟erir.
1 TB'tan fazla depolama alan覺 gerektiren eitim verileri. oumuz i癟in bu, tipik bir cihaz覺n 繹zelliklerini fazlas覺yla a覺yor.
sabit s羹r羹c羹 diski. Ek depolama alan覺 ay覺rmam覺z ve sat覺n almam覺z gerekiyor mu? Veya bu veri k羹meleri 羹zerinde disk alan覺 k覺s覺tlamas覺 olmadan eitim almam覺z覺n bir yolu var m覺?

 Veri k羹meleri, [ak覺 modunu](https://huggingface.co/docs/datasets/stream) sunarak imdada yetiiyor. Ak覺, verileri aamal覺 olarak y羹klememize olanak tan覺r
 veri k羹mesi 羹zerinde yineleme yap覺yoruz. Veri setinin tamam覺n覺 bir kerede indirmek yerine, veri setini tek seferde bir 繹rnek olarak y羹kl羹yoruz.
 Veri k羹mesi 羹zerinde yinelemeler yap覺yoruz, gerektiinde 繹rnekleri an覺nda y羹kl羹yor ve haz覺rl覺yoruz. Bu ekilde, biz sadece
 Kulland覺覺m覺z 繹rnekleri y羹kleyin, kullanmad覺klar覺m覺z覺 deil!
rnek bir 繹rnekle iimiz bittiinde, veri k羹mesi 羹zerinde yinelemeye devam ediyoruz ve bir sonrakini y羹kl羹yoruz.

Ak覺 modunun t羹m veri k羹mesini ayn覺 anda indirmeye k覺yasla 羹癟 temel avantaj覺 vard覺r:

* Disk alan覺: Biz veri k羹mesi 羹zerinde yineledik癟e 繹rnekler bellee tek tek y羹klenir. Veriler indirilmediinden
yerel olarak herhangi bir disk alan覺 gereksinimi yoktur, dolay覺s覺yla istee bal覺 boyuttaki veri k羹melerini kullanabilirsiniz.
* 襤ndirme ve ileme s羹resi: Ses veri k羹meleri b羹y羹kt羹r ve indirilip ilenmesi 繹nemli miktarda zaman gerektirir.
Ak覺 ile y羹kleme ve ileme an覺nda yap覺l覺r; bu, veri k羹mesini ilk kez kullanmaya balayabileceiniz anlam覺na gelir
繹rnek haz覺r.
* Kolay deneme: Komut dosyan覺z覺n 癟al覺覺p 癟al覺mad覺覺n覺 kontrol etmek i癟in birka癟 繹rnek 羹zerinde denemeler yapabilirsiniz.
t羹m veri k羹mesini indir.

Streaming modunun bir k覺s覺tlamas覺 bulunmaktad覺r. Ak覺 olmadan tam bir veri k羹mesi indirildiinde, hem ham veri hem de ilenmi veri yerel diskte kaydedilir. Bu veri k羹mesini yeniden kullanmak istediimizde, ilenmi veriyi dorudan diskin 羹zerinden y羹kleyebiliriz, indirme ve ileme ad覺mlar覺n覺 atlayarak. Sonu癟 olarak, indirme ve ileme ilemlerini yaln覺zca bir kez yapmam覺z yeterlidir, ard覺ndan haz覺rlanan veriyi yeniden kullanabiliriz.

Ak覺 modunda veriler diske indirilmez. B繹ylece ne indirilen ne de 繹nceden ilenmi veriler 繹nbellee al覺nmaz.
Veri k羹mesini yeniden kullanmak istiyorsak, ses dosyalar覺 y羹klenip ilenerek ak覺 ad覺mlar覺n覺n tekrarlanmas覺 gerekir.
yine sinek. Bu nedenle birden 癟ok kez kullanman覺z muhtemel veri setlerini indirmeniz tavsiye edilir.

Ak覺 modunu nas覺l etkinletirebilirsiniz? ok kolay! Veri k羹menizi y羹klerken streaming=True olarak ayarlay覺n. Gerisi sizin i癟in otomatik olarak halledilecektir:

```py
gigaspeech = load_dataset("speechcolab/gigaspeech", "xs", streaming=True)
```

T覺pk覺 MINDS-14'羹n indirilen bir alt k羹mesine 繹n ileme ad覺mlar覺n覺 uygulad覺覺m覺z gibi, ayn覺 繹n ilemeyi bir alt k羹meyle de yapabilirsiniz.
veri k羹mesini tam olarak ayn覺 ekilde aktar覺r.


Tek fark, Python indeksi kullanarak art覺k bireysel 繹rneklerine eriemeyeceinizdir (繹rnein gigaspeech["train"][繹rnek_idx]). Bunun yerine, veri k羹mesi 羹zerinde d繹ng羹 kullanman覺z gerekecektir. Bir veri k羹mesine ak覺 yaparken bir 繹rnee nas覺l eriebileceinizi aa覺da g繹steriliyor:

```py
next(iter(gigaspeech["train"]))
```

**覺kt覺:**
```out
{
    "segment_id": "YOU0000000315_S0000660",
    "speaker": "N/A",
    "text": "AS THEY'RE LEAVING <COMMA> CAN KASH PULL ZAHRA ASIDE REALLY QUICKLY <QUESTIONMARK>",
    "audio": {
        "path": "xs_chunks_0000/YOU0000000315_S0000660.wav",
        "array": array(
            [0.0005188, 0.00085449, 0.00012207, ..., 0.00125122, 0.00076294, 0.00036621]
        ),
        "sampling_rate": 16000,
    },
    "begin_time": 2941.89,
    "end_time": 2945.07,
    "audio_id": "YOU0000000315",
    "title": "Return to Vasselheim | Critical Role: VOX MACHINA | Episode 43",
    "url": "https://www.youtube.com/watch?v=zr2n1fLVasU",
    "source": 2,
    "category": 24,
    "original_full_path": "audio/youtube/P0004/YOU0000000315.opus",
}
```

B羹y羹k bir veri k羹mesinden birka癟 繹rnei 繹nizlemek isterseniz, ilk n 繹eyi almak i癟in take() ilevini kullanabilirsiniz. imdi, gigaspeech veri k羹mesinden ilk iki 繹rnei alal覺m:

```py
gigaspeech_head = gigaspeech["train"].take(2)
list(gigaspeech_head)
```

**覺kt覺:**
```out
[
    {
        "segment_id": "YOU0000000315_S0000660",
        "speaker": "N/A",
        "text": "AS THEY'RE LEAVING <COMMA> CAN KASH PULL ZAHRA ASIDE REALLY QUICKLY <QUESTIONMARK>",
        "audio": {
            "path": "xs_chunks_0000/YOU0000000315_S0000660.wav",
            "array": array(
                [
                    0.0005188,
                    0.00085449,
                    0.00012207,
                    ...,
                    0.00125122,
                    0.00076294,
                    0.00036621,
                ]
            ),
            "sampling_rate": 16000,
        },
        "begin_time": 2941.89,
        "end_time": 2945.07,
        "audio_id": "YOU0000000315",
        "title": "Return to Vasselheim | Critical Role: VOX MACHINA | Episode 43",
        "url": "https://www.youtube.com/watch?v=zr2n1fLVasU",
        "source": 2,
        "category": 24,
        "original_full_path": "audio/youtube/P0004/YOU0000000315.opus",
    },
    {
        "segment_id": "AUD0000001043_S0000775",
        "speaker": "N/A",
        "text": "SIX TOMATOES <PERIOD>",
        "audio": {
            "path": "xs_chunks_0000/AUD0000001043_S0000775.wav",
            "array": array(
                [
                    1.43432617e-03,
                    1.37329102e-03,
                    1.31225586e-03,
                    ...,
                    -6.10351562e-05,
                    -1.22070312e-04,
                    -1.83105469e-04,
                ]
            ),
            "sampling_rate": 16000,
        },
        "begin_time": 3673.96,
        "end_time": 3675.26,
        "audio_id": "AUD0000001043",
        "title": "Asteroid of Fear",
        "url": "http//www.archive.org/download/asteroid_of_fear_1012_librivox/asteroid_of_fear_1012_librivox_64kb_mp3.zip",
        "source": 0,
        "category": 28,
        "original_full_path": "audio/audiobook/P0011/AUD0000001043.opus",
    },
]
```

Ak覺 modu, arat覺rman覺z覺 bir 羹st seviyeye ta覺yabilir: Sadece en b羹y羹k veri k羹melerine eriim salamakla kalmaz, ayn覺 zamanda disk alan覺n覺z覺 d羹羹nmeden birden fazla veri k羹mesi 羹zerinde sistemleri kolayca deerlendirebilirsiniz. Tek bir veri k羹mesinde deerlendirmekle kar覺lat覺r覺ld覺覺nda, 癟oklu veri k羹mesi deerlendirmesi, bir konuma tan覺ma sisteminin genelleme yetenekleri i癟in daha iyi bir 繹l癟羹m salar (bkz. End-to-end Speech Benchmark - ESB).

