# –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Å –ø–æ–º–æ—â—å—é `pipeline()` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏.
–í [–†–∞–∑–¥–µ–ª–µ 2](../chapter2/asr_pipeline) –º—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∏ `pipeline()` –∫–∞–∫ –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π
–∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º" –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –±—ã—Å—Ç—Ä–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –ª—é–±–æ–π –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–æ–π –º–æ–¥–µ–ª–∏ –Ω–∞ Hugging Face Hub.
–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã —É–≥–ª—É–±–∏–º—Å—è –≤ –∏–∑—É—á–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –º–æ–¥–µ–ª–µ–π —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ –∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –∏—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á.

–ö–∞–∫ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–Ω–æ –≤ –†–∞–∑–¥–µ–ª–µ 3, –º–æ–¥–µ–ª–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ –≤ —Ü–µ–ª–æ–º –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –æ–¥–Ω–æ–π –∏–∑ –¥–≤—É—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:

1. Connectionist Temporal Classification (CTC) –∏–ª–∏ –ö–æ–Ω–Ω–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç—Å–∫–∞—è –í—Ä–µ–º–µ–Ω–Ω–∞—è –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è: –º–æ–¥–µ–ª–∏ —Å–æ—Å—Ç—è—â–∏–µ —Ç–æ–ª—å–∫–æ –∏–∑ —ç–Ω–∫–æ–¥–µ—Ä–∞, —Å –≥–æ–ª–æ–≤–æ–π –ª–∏–Ω–µ–π–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –≤ –≤–µ—Ä—à–∏–Ω–µ –º–æ–¥–µ–ª–∏.
2. Sequence-to-sequence (Seq2Seq) –∏–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å-–≤-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –º–æ–¥–µ–ª–∏ –≤–∫–ª—é—á–∞—é—â–∏–µ –≤ —Å–µ–±—è –∫–∞–∫ —ç–Ω–∫–æ–¥–µ—Ä, —Ç–∞–∫ –∏ –¥–µ–∫–æ–¥–µ—Ä —Å –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è –º–µ–∂–¥—É –Ω–∏–º–∏ (cross-attention).

–î–æ 2022 –≥–æ–¥–∞ –±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ–π –∏–∑ –¥–≤—É—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä –±—ã–ª–∞ CTC, –∞ —Ç–∞–∫–∏–µ –º–æ–¥–µ–ª–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ç–æ–ª—å–∫–æ —Å —ç–Ω–∫–æ–¥–µ—Ä–æ–º, –∫–∞–∫ Wav2Vec2, HuBERT –∏ XLSR, —Å–æ–≤–µ—Ä—à–∏–ª–∏ –ø—Ä–æ—Ä—ã–≤ –≤ –ø–∞—Ä–∞–¥–∏–≥–º–µ
–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è/–¥–æ–æ–±—É—á–µ–Ω–∏—è –≤ –∑–∞–¥–∞—á–∞—Ö —Å —Ä–µ—á—å—é. –ö—Ä—É–ø–Ω—ã–µ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ Meta –∏ Microsoft, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–∞–ª–∏ —ç–Ω–∫–æ–¥–µ—Ä –Ω–∞ –æ–≥—Ä–æ–º–Ω—ã—Ö –æ–±—ä–µ–º–∞—Ö
–Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ—á–µ–Ω–∏–µ –º–Ω–æ–≥–∏—Ö –¥–Ω–µ–π –∏–ª–∏ –Ω–µ–¥–µ–ª—å. –ó–∞—Ç–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ –≤–∑—è—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—É—é –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Ç–æ—á–∫—É –∏ –¥–æ–æ–±—É—á–∏—Ç—å –µ–µ —Å –ø–æ–º–æ—â—å—é
–≥–æ–ª–æ–≤—ã CTC –≤—Å–µ–≥–æ –Ω–∞ **10 –º–∏–Ω—É—Ç–∞—Ö** —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö —Ä–µ—á–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤—ã—Å–æ–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏.

–û–¥–Ω–∞–∫–æ –º–æ–¥–µ–ª–∏ CTC –∏–º–µ—é—Ç —Å–≤–æ–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –ª–∏–Ω–µ–π–Ω–æ–≥–æ —Å–ª–æ—è –∫ –∫–æ–¥–∏—Ä—É—é—â–µ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –¥–∞–µ—Ç –Ω–µ–±–æ–ª—å—à—É—é –∏ –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å –≤ —Ü–µ–ª–æ–º, –Ω–æ –æ–Ω–∞ –º–æ–∂–µ—Ç
–±—ã—Ç—å –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–∞ —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–º –æ—à–∏–±–∫–∞–º –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏. –ù–∏–∂–µ –º—ã –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º —ç—Ç–æ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –º–æ–¥–µ–ª–∏ Wav2Vec2.

## –ê–Ω–∞–ª–∏–∑ –º–æ–¥–µ–ª–µ–π CTC

–ó–∞–≥—Ä—É–∑–∏–º –Ω–µ–±–æ–ª—å—à–æ–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö [LibriSpeech ASR](hf-internal-testing/librispeech_asr_dummy) —á—Ç–æ–±—ã –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Wav2Vec2
–ø–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ —Ä–µ—á–∏:

```python
from datasets import load_dataset

dataset = load_dataset(
    "hf-internal-testing/librispeech_asr_dummy", "clean", split="validation"
)
dataset
```

**Output:**
```
Dataset({
    features: ['file', 'audio', 'text', 'speaker_id', 'chapter_id', 'id'],
    num_rows: 73
})
```

–ú—ã –º–æ–∂–µ–º –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ 73 –∞—É–¥–∏–æ–æ–±—Ä–∞–∑—Ü–æ–≤ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –µ–≥–æ, –∞ —Ç–∞–∫–∂–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é:

```python
from IPython.display import Audio

sample = dataset[2]

print(sample["text"])
Audio(sample["audio"]["array"], rate=sample["audio"]["sampling_rate"])
```
**Output:**
```
HE TELLS US THAT AT THIS FESTIVE SEASON OF THE YEAR WITH CHRISTMAS AND ROAST BEEF LOOMING BEFORE US SIMILES DRAWN FROM EATING AND ITS RESULTS OCCUR MOST READILY TO THE MIND
```

–•–æ—Ä–æ—à–æ! –†–æ–∂–¥–µ—Å—Ç–≤–æ –∏ –∑–∞–ø–µ—á–µ–Ω–Ω–∞—è –≤ –¥—É—Ö–æ–≤–∫–µ –≥–æ–≤—è–¥–∏–Ω–∞, –∑–≤—É—á–∏—Ç –∑–¥–æ—Ä–æ–≤–æ! üéÑ –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–≤ –≤—ã–±–æ—Ä–∫—É –¥–∞–Ω–Ω—ã—Ö, –º—ã —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ–º
–¥–æ–æ–±—É—á–µ–Ω–Ω—É—é –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Ç–æ—á–∫—É –≤ `pipeline()`. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Ç–æ—á–∫—É [Wav2Vec2 base](facebook/wav2vec2-base-100h)
–¥–æ–æ–±—É—á–µ–Ω–Ω—É—é –Ω–∞ 100 —á–∞—Å–∞—Ö –¥–∞–Ω–Ω—ã—Ö LibriSpeech:

```python
from transformers import pipeline

pipe = pipeline("automatic-speech-recognition", model="facebook/wav2vec2-base-100h")
```

–î–∞–ª–µ–µ –º—ã –≤–æ–∑—å–º–µ–º –ø—Ä–∏–º–µ—Ä –∏–∑ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–¥–∞–¥–∏–º –µ–≥–æ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω–≤–µ–π–µ—Ä. –ü–æ—Å–∫–æ–ª—å–∫—É `pipeline` *–ø–æ–≥–ª–æ—â–∞–µ—Ç* –ª—é–±–æ–π —Å–ª–æ–≤–∞—Ä—å, –∫–æ—Ç–æ—Ä—ã–π –º—ã –µ–º—É
–ø–µ—Ä–µ–¥–∞–µ–º (—Ç–æ –µ—Å—Ç—å –µ–≥–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ), –º—ã –±—É–¥–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ–ø–∏—é –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –º–æ–∂–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω
–∏ —Ç–æ—Ç –∂–µ –∞—É–¥–∏–æ–æ–±—Ä–∞–∑–µ—Ü –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö:

```python
pipe(sample["audio"].copy())
```
**Output:**
```
{"text": "HE TELLS US THAT AT THIS FESTIVE SEASON OF THE YEAR WITH CHRISTMAUS AND ROSE BEEF LOOMING BEFORE US SIMALYIS DRAWN FROM EATING AND ITS RESULTS OCCUR MOST READILY TO THE MIND"}
```

–í–∏–¥–Ω–æ, —á—Ç–æ –º–æ–¥–µ–ª—å Wav2Vec2 –Ω–µ–ø–ª–æ—Ö–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–µ–π –¥–∞–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑—Ü–∞ - –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥, –≤—Å–µ –≤—ã–≥–ª—è–¥–∏—Ç –≤ —Ü–µ–ª–æ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
–î–∞–≤–∞–π—Ç–µ –ø–æ—Å—Ç–∞–≤–∏–º —Ü–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (target) –∏ –ø—Ä–æ–≥–Ω–æ–∑/–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ (prediction) —Ä—è–¥–æ–º –∏ –≤—ã–¥–µ–ª–∏–º —Ä–∞–∑–ª–∏—á–∏—è:

```
Target:      HE TELLS US THAT AT THIS FESTIVE SEASON OF THE YEAR WITH CHRISTMAS AND ROAST BEEF LOOMING BEFORE US SIMILES DRAWN FROM EATING AND ITS RESULTS OCCUR MOST READILY TO THE MIND
Prediction:  HE TELLS US THAT AT THIS FESTIVE SEASON OF THE YEAR WITH **CHRISTMAUS** AND **ROSE** BEEF LOOMING BEFORE US **SIMALYIS** DRAWN FROM EATING AND ITS RESULTS OCCUR MOST READILY TO THE MIND
```

–°—Ä–∞–≤–Ω–∏–≤–∞—è —Ü–µ–ª–µ–≤–æ–π —Ç–µ–∫—Å—Ç —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–µ–π, –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –≤—Å–µ —Å–ª–æ–≤–∞ _–∑–≤—É—á–∞—Ç_ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–µ —Å–æ–≤—Å–µ–º —Ç–æ—á–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä:

* _CHRISTMAUS_ vs. _CHRISTMAS_
* _ROSE_ vs. _ROAST_
* _SIMALYIS_ vs. _SIMILES_

–≠—Ç–æ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –º–æ–¥–µ–ª–∏ CTC. –ú–æ–¥–µ–ª—å CTC - —ç—Ç–æ, –ø–æ —Å—É—Ç–∏, "—Ç–æ–ª—å–∫–æ –∞–∫—É—Å—Ç–∏—á–µ—Å–∫–∞—è" –º–æ–¥–µ–ª—å: –æ–Ω–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —ç–Ω–∫–æ–¥–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
—Å–∫—Ä—ã—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏–∑ –∞—É–¥–∏–æ–≤—Ö–æ–¥–æ–≤, –∏ –ª–∏–Ω–µ–π–Ω–æ–≥–æ —Å–ª–æ—è, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Å–∏–º–≤–æ–ª—ã:

<!--- Need U3 to be merged before this figure is available:

<div class="flex justify-center">
     <img src="https://huggingface.co/datasets/huggingface-course/audio-course-images/resolve/main/wav2vec2-ctc.png" alt="Transformer encoder with a CTC head on top">
</div>

--->

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç —Å–≤–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –∞–∫—É—Å—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (—Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∑–≤—É–∫–∞—Ö –∞—É–¥–∏–æ–∑–∞–ø–∏—Å–∏) –∏ –ø–æ—ç—Ç–æ–º—É —Å–∫–ª–æ–Ω–Ω–∞
—Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å –∞—É–¥–∏–æ–∑–∞–ø–∏—Å—å —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, _CHRISTMAUS_). –í –Ω–µ–º –º–µ–Ω—å—à–µ –≤–Ω–∏–º–∞–Ω–∏—è —É–¥–µ–ª—è–µ—Ç—Å—è —è–∑—ã–∫–æ–≤–æ–º—É –º–æ–¥–µ–ª–∏—Ä—É—é—â–µ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö
–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –±—É–∫–≤, –ø–æ—ç—Ç–æ–º—É –æ–Ω —Å–∫–ª–æ–Ω–µ–Ω –∫ —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–º –æ—à–∏–±–∫–∞–º –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏. –ë–æ–ª–µ–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∞ –±—ã, —á—Ç–æ _CHRISTMAUS_ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è
–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–ª–æ–≤–æ–º –≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —Å–ª–æ–≤–∞—Ä–µ, –∏ –∏—Å–ø—Ä–∞–≤–∏–ª–∞ –±—ã –µ–≥–æ –Ω–∞ _CHRISTMAS_, –∫–æ–≥–¥–∞ –¥–µ–ª–∞–ª–∞ –±—ã —Å–≤–æ–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤ –Ω–∞—à–µ–º –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
–¥–≤–∞ –≤–∞–∂–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞ - —Ä–µ–≥–∏—Å—Ç—Ä –∏ –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è, —á—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## –ü–µ—Ä–µ—Ö–æ–¥ –∫ Seq2Seq

–ú–æ–¥–µ–ª–∏ Seq2Seq! –ö–∞–∫ –±—ã–ª–æ –æ–ø–∏—Å–∞–Ω–æ –≤ –†–∞–∑–¥–µ–ª–µ 3, –º–æ–¥–µ–ª–∏ Seq2Seq —Å–æ—Å—Ç–æ—è—Ç –∏–∑ —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏ –¥–µ–∫–æ–¥–µ—Ä–∞, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–æ–±–æ–π –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è.
–≠–Ω–∫–æ–¥–µ—Ä –∏–≥—Ä–∞–µ—Ç —Ç—É –∂–µ —Ä–æ–ª—å, —á—Ç–æ –∏ —Ä–∞–Ω—å—à–µ, –≤—ã—á–∏—Å–ª—è—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–∫—Ä—ã—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∞—É–¥–∏–æ–≤—Ö–æ–¥–æ–≤, –∞ –¥–µ–∫–æ–¥–µ—Ä - —Ä–æ–ª—å **—è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏**. –î–µ–∫–æ–¥–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
–≤—Å—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —Å–∫—Ä—ã—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞, –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏. –ò–º–µ—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
–≤—Ö–æ–¥–Ω–æ–≥–æ –∞—É–¥–∏–æ—Å–∏–≥–Ω–∞–ª–∞, –¥–µ–∫–æ–¥–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —è–∑—ã–∫–æ–≤–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —Å–≤–æ–∏—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤, –∏—Å–ø—Ä–∞–≤–ª—è—è –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
"–Ω–∞ –ª–µ—Ç—É" –∏ —Ç–µ–º —Å–∞–º—ã–º –æ–±—Ö–æ–¥—è –ø—Ä–æ–±–ª–µ–º—É —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤.

–£ –º–æ–¥–µ–ª–µ–π Seq2Seq –µ—Å—Ç—å –¥–≤–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∞:
1. –û–Ω–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –¥–µ–∫–æ–¥–∏—Ä—É—é—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ –æ–¥–Ω–æ–º—É —à–∞–≥—É –∑–∞ —Ä–∞–∑, –∞ –Ω–µ –≤—Å–µ —Å—Ä–∞–∑—É
2. –û–Ω–∏ –±–æ–ª–µ–µ —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã –∫ –¥–∞–Ω–Ω—ã–º, –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–µ –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, —É–∑–∫–∏–º –º–µ—Å—Ç–æ–º –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä Seq2Seq –¥–ª—è –∑–∞–¥–∞—á —Å —Ä–µ—á—å—é —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –†–∞–∑–º–µ—á–µ–Ω–Ω—ã–µ —Ä–µ—á–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
—Ç—Ä—É–¥–Ω–æ–¥–æ—Å—Ç—É–ø–Ω—ã, —Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç —Å–æ—Å—Ç–∞–≤–ª—è–ª–∏ –≤—Å–µ–≥–æ 10 000 —á–∞—Å–æ–≤. –í—Å–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ 2022 –≥–æ–¥—É –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ **Whisper**.
Whisper - —ç—Ç–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–∞—è –≤ [–°–µ–Ω—Ç—è–±—Ä–µ 2022](https://openai.com/blog/whisper/) –∞–≤—Ç–æ—Ä–∞–º–∏ Alec Radford
–∏ –¥—Ä. –∏–∑ –∫–æ–º–ø–∞–Ω–∏–∏ OpenAI. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ CTC, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—É—á–∞–ª–∏—Å—å –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ **–Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö** –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã—Ö, Whisper –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω
–Ω–∞ –æ–≥—Ä–æ–º–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ **—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö** –¥–∞–Ω–Ω—ã—Ö –∞—É–¥–∏–æ—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏, –∞ –∏–º–µ–Ω–Ω–æ –Ω–∞ 680 000 —á–∞—Å–æ–≤.

–≠—Ç–æ –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö, —á–µ–º –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–µ –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è Wav2Vec 2.0 (60 000 —á–∞—Å–æ–≤). –ë–æ–ª–µ–µ —Ç–æ–≥–æ, 117 000 —á–∞—Å–æ–≤ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö,
–ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, —è–≤–ª—è—é—Ç—Å—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–º–∏ (–∏–ª–∏ "–Ω–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏") –¥–∞–Ω–Ω—ã–º–∏. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
–∫ –±–æ–ª–µ–µ —á–µ–º 96 —è–∑—ã–∫–∞–º, –º–Ω–æ–≥–∏–µ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å—á–∏—Ç–∞—é—Ç—Å—è _–Ω–∏–∑–∫–æ—Ä–µ—Å—É—Ä—Å–Ω—ã–º–∏_, —Ç.–µ. –Ω–µ –∏–º–µ—é—â–∏–º–∏ –±–æ–ª—å—à–æ–≥–æ –∫–æ—Ä–ø—É—Å–∞ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏–≥–æ–¥–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è.

–ü—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ 680 000 —á–∞—Å–æ–≤ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ Whisper –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –≤—ã—Å–æ–∫—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ –æ–±–æ–±—â–µ–Ω–∏—é
–Ω–∞ –º–Ω–æ–≥–∏–µ –Ω–∞–±–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–ª–∞—Å—Ç–∏. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç–∏–≥–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã—Ö —Å state-of-the-art pipe systems,
—Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º –æ—à–∏–±–æ–∫ –≤ —Å–ª–æ–≤–∞—Ö (WER) –æ–∫–æ–ª–æ 3% –Ω–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–µ —á–∏—Å—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤ LibriSpeech –∏ –Ω–æ–≤—ã–º —Ä–µ–∫–æ—Ä–¥–æ–º –Ω–∞ TED-LIUM —Å WER 4,7%
(—Å–º. —Ç–∞–±–ª. 8 [Whisper paper](https://cdn.openai.com/papers/whisper.pdf)).

–û—Å–æ–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å Whisper —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–ª–∏–Ω–Ω—ã–º–∏ –∞—É–¥–∏–æ–æ–±—Ä–∞–∑—Ü–∞–º–∏, —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –≤—Ö–æ–¥–Ω—ã–º —à—É–º–∞–º –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é —Å
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞–¥–µ–∂–µ–π –∏ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏.

–í –æ—Å—Ç–∞–≤—à–µ–π—Å—è —á–∞—Å—Ç–∏ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ Whisper –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ —Å –ø–æ–º–æ—â—å—é ü§ó Transformers.
–í–æ –º–Ω–æ–≥–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ Whisper –æ–±–ª–∞–¥–∞—é—Ç –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –¥–∞—é—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –ø–æ—ç—Ç–æ–º—É –º—ã
—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–∞–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞ –∫ —Ä–µ—à–µ–Ω–∏—é –ª—é–±–æ–π –∑–∞–¥–∞—á–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏.
–ë–ª–∞–≥–æ–¥–∞—Ä—è –¥–æ–æ–±—É—á–µ–Ω–∏—é –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ —è–∑—ã–∫–æ–≤ —Å —Ü–µ–ª—å—é –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ
—É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. –ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, –º—ã –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ, –ø–æ—Å–≤—è—â–µ–Ω–Ω–æ–º [–¥–æ–æ–±—É—á–µ–Ω–∏—é] (fine-tuning).

–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –º–æ–¥–µ–ª–∏ Whisper –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø—è—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –º–æ–¥–µ–ª–∏. –ù–∞–∏–º–µ–Ω—å—à–∏–µ –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —á–µ—Ç—ã—Ä–µ –º–æ–¥–µ–ª–∏ –æ–±—É—á–∞—é—Ç—Å—è –ª–∏–±–æ
—Ç–æ–ª—å–∫–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, –ª–∏–±–æ –Ω–∞ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –°–∞–º–∞—è –±–æ–ª—å—à–∞—è –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –±—ã–ª–∞ –æ–±—É—á–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
–í—Å–µ –¥–µ–≤—è—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ [Hugging Face Hub](https://huggingface.co/models?search=openai/whisper). –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ
—Ç–æ—á–∫–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –º–æ–¥–µ–ª–∏ –Ω–∞ Hugging Face Hub. "VRAM" –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –æ–±—ä–µ–º –ø–∞–º—è—Ç–∏ GPU, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏ —Å
–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º –ø–∞–∫–µ—Ç–∞ = 1. "Rel Speed" - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Å–∞–º–æ–π –±–æ–ª—å—à–æ–π –º–æ–¥–µ–ª—å—é. –ù–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Ç–æ—á–∫—É, –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –¥–ª—è –≤–∞—à–µ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

| Size   | Parameters | VRAM / GB | Rel Speed | English-only                                         | Multilingual                                        |
|--------|------------|-----------|-----------|------------------------------------------------------|-----------------------------------------------------|
| tiny   | 39 M       | 1.4       | 32        | [‚úì](https://huggingface.co/openai/whisper-tiny.en)   | [‚úì](https://huggingface.co/openai/whisper-tiny)     |
| base   | 74 M       | 1.5       | 16        | [‚úì](https://huggingface.co/openai/whisper-base.en)   | [‚úì](https://huggingface.co/openai/whisper-base)     |
| small  | 244 M      | 2.3       | 6         | [‚úì](https://huggingface.co/openai/whisper-small.en)  | [‚úì](https://huggingface.co/openai/whisper-small)    |
| medium | 769 M      | 4.2       | 2         | [‚úì](https://huggingface.co/openai/whisper-medium.en) | [‚úì](https://huggingface.co/openai/whisper-medium)   |
| large  | 1550 M     | 7.5       | 1         | x                                                    | [‚úì](https://huggingface.co/openai/whisper-large-v2) |

–ó–∞–≥—Ä—É–∑–∏–º –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Ç–æ—á–∫—É [Whisper Base](https://huggingface.co/openai/whisper-base), –∫–æ—Ç–æ—Ä–∞—è –ø–æ —Ä–∞–∑–º–µ—Ä—É —Å–æ–ø–æ—Å—Ç–∞–≤–∏–º–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–æ–π Wav2Vec2, –∫–æ—Ç–æ—Ä—É—é
–º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–∞–Ω–µ–µ. –ü—Ä–µ–¥–≤–∞—Ä—è—è –Ω–∞—à –ø–µ—Ä–µ—Ö–æ–¥ –∫ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ–º—É —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é —Ä–µ—á–∏, –∑–∞–≥—Ä—É–∑–∏–º –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏. –ú—ã —Ç–∞–∫–∂–µ –∑–∞–≥—Ä—É–∑–∏–º
–º–æ–¥–µ–ª—å –Ω–∞ GPU, –µ—Å–ª–∏ –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–ª–∏ –Ω–∞ CPU –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ. –í –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ `pipeline()` –ø–æ–∑–∞–±–æ—Ç–∏—Ç—Å—è –æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –≤—Å–µ—Ö –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤ —Å CPU –Ω–∞ GPU –ø–æ –º–µ—Ä–µ
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:

```python
import torch
from transformers import pipeline

device = "cuda:0" if torch.cuda.is_available() else "cpu"
pipe = pipeline(
    "automatic-speech-recognition", model="openai/whisper-base", device=device
)
```

–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ–º –∞—É–¥–∏–æ–∑–∞–ø–∏—Å—å, –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ - —ç—Ç–æ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `max_new_tokens`, –∫–æ—Ç–æ—Ä—ã–π
—É–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–∏:

```python
pipe(sample["audio"], max_new_tokens=256)
```
**Output:**
```
{'text': ' He tells us that at this festive season of the year, with Christmas and roast beef looming before us, similarly is drawn from eating and its results occur most readily to the mind.'}
```

–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–µ–≥–∫–æ! –ü–µ—Ä–≤–æ–µ, –Ω–∞ —á—Ç–æ –≤—ã –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, - —ç—Ç–æ –Ω–∞–ª–∏—á–∏–µ –∫–∞–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞, —Ç–∞–∫ –∏ –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è. –≠—Ç–æ —Å—Ä–∞–∑—É –∂–µ –¥–µ–ª–∞–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–π –¥–ª—è
—á—Ç–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π –∏–∑ Wav2Vec2, –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –Ω–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞, –Ω–∏ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏. –î–∞–≤–∞–π—Ç–µ –ø–æ–º–µ—Å—Ç–∏–º —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é —Ä—è–¥–æ–º —Å —Ü–µ–ª–µ–≤–æ–π –º–µ—Ç–∫–æ–π:

```
Target:     HE TELLS US THAT AT THIS FESTIVE SEASON OF THE YEAR WITH CHRISTMAS AND ROAST BEEF LOOMING BEFORE US SIMILES DRAWN FROM EATING AND ITS RESULTS OCCUR MOST READILY TO THE MIND
Prediction: He tells us that at this festive season of the year, with **Christmas** and **roast** beef looming before us, **similarly** is drawn from eating and its results occur most readily to the mind.
```

Whisper –ø—Ä–æ–¥–µ–ª–∞–ª –±–æ–ª—å—à—É—é —Ä–∞–±–æ—Ç—É –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –≤–∏–¥–µ–ª–∏ –≤ Wav2Vec2 - –∏ _Christmas_, –∏ _roast_ –Ω–∞–ø–∏—Å–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –º–æ–¥–µ–ª—å –≤—Å–µ –µ—â–µ –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å _SIMILES_, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ _similarly_, –Ω–æ –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–ª–æ–≤–æ–º –∏–∑ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ Whisper –±–æ–ª—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –µ—â–µ –±–æ–ª—å—à–µ —Å–Ω–∏–∑–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
–æ—à–∏–±–æ–∫ –≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏.

–ù–∞–º –æ–±–µ—â–∞–ª–∏ –º–æ–¥–µ–ª—å, —Å–ø–æ—Å–æ–±–Ω—É—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å 96 —è–∑—ã–∫–∞–º–∏, —Ç–∞–∫ —á—Ç–æ –æ—Å—Ç–∞–≤–∏–º –ø–æ–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–µ—á–∏ –∏ –ø–æ–π–¥–µ–º –ø–æ –º–∏—Ä—É üåé! –ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö [Multilingual LibriSpeech](https://huggingface.co/datasets/facebook/multilingual_librispeech)
(MLS) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –∞–Ω–∞–ª–æ–≥ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö LibriSpeech, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–µ –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã–µ –Ω–∞ —à–µ—Å—Ç–∏ —è–∑—ã–∫–∞—Ö. –ú—ã –∑–∞–≥—Ä—É–∑–∏–º –æ–¥–Ω—É
–æ–±—Ä–∞–∑–µ—Ü –∏–∑ –∏—Å–ø–∞–Ω—Å–∫–æ–π —á–∞—Å—Ç–∏ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö MLS, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∂–∏–º _streaming_, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–µ—Å—å –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:

```python
dataset = load_dataset(
    "facebook/multilingual_librispeech", "spanish", split="validation", streaming=True
)
sample = next(iter(dataset))
```

–°–Ω–æ–≤–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Ç–µ–∫—Å—Ç–æ–≤—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –∏ –ø—Ä–æ—Å–ª—É—à–∞–µ–º –∞—É–¥–∏–æ—Ñ—Ä–∞–≥–º–µ–Ω—Ç:

```python
print(sample["text"])
Audio(sample["audio"]["array"], rate=sample["audio"]["sampling_rate"])
```
**Output:**
```
entonces te delelitar√°s en jehov√° y yo te har√© subir sobre las alturas de la tierra y te dar√© √° comer la heredad de jacob tu padre porque la boca de jehov√° lo ha hablado
```

–≠—Ç–æ —Ü–µ–ª–µ–≤–æ–π —Ç–µ–∫—Å—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –º—ã –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–µ–º—Å—è –≤ –Ω–∞—à–µ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ Whisper. –•–æ—Ç—è —Ç–µ–ø–µ—Ä—å –º—ã –∑–Ω–∞–µ–º, —á—Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –ª—É—á—à–µ,
–ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞—à–∞ –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∞–∫–∂–µ –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é –∏ —Ä–µ–≥–∏—Å—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–µ –≤ –≤—ã–≤–æ–¥–µ –ø—Ä–∏–º–µ—Ä–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –ü–µ—Ä–µ–¥–∞–¥–∏–º –æ–±—Ä–∞–∑–µ—Ü –∑–≤—É–∫–∞ –≤ –∫–æ–Ω–≤–µ–π–µ—Ä –¥–ª—è
–ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞. –°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∫–æ–Ω–≤–µ–π–µ—Ä _–ø–æ—Ç—Ä–µ–±—É–µ—Ç_ —Å–ª–æ–≤–∞—Ä—å –∞—É–¥–∏–æ–≤—Ö–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –º—ã –≤–≤–æ–¥–∏–º, —Ç–æ –µ—Å—Ç—å —Å–ª–æ–≤–∞—Ä—å –Ω–µ –º–æ–∂–µ—Ç
–±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø–æ–≤—Ç–æ—Ä–Ω–æ. –ß—Ç–æ–±—ã –æ–±–æ–π—Ç–∏ —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –º—ã –±—É–¥–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å _–∫–æ–ø–∏—é_ –∞—É–¥–∏–æ–æ–±—Ä–∞–∑—Ü–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞–º –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π
–∞—É–¥–∏–æ–æ–±—Ä–∞–∑–µ—Ü –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –∫–æ–¥–∞:

```python
pipe(sample["audio"].copy(), max_new_tokens=256, generate_kwargs={"task": "transcribe"})
```
**Output:**
```
{'text': ' Entonces te deleitar√°s en Jehov√° y yo te har√© subir sobre las alturas de la tierra y te dar√© a comer la heredad de Jacob tu padre porque la boca de Jehov√° lo ha hablado.'}
```

–û—Ç–ª–∏—á–Ω–æ - —ç—Ç–æ –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–µ –Ω–∞ –Ω–∞—à —Ü–µ–ª–µ–≤–æ–π —Ç–µ–∫—Å—Ç (–≤–æ–∑–º–æ–∂–Ω–æ, –¥–∞–∂–µ –ª—É—á—à–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –Ω–µ–º –µ—Å—Ç—å –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä!). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏
`"task"` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ _–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞_ (generate kwarg). –ü–µ—Ä–µ–¥–∞—á–∞ –∫–ª—é—á—É `"task"` –∑–Ω–∞—á–µ–Ω–∏—è `"transcribe"` –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç Whisper
–≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á—É _—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏_, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –∞—É–¥–∏–æ–∑–∞–ø–∏—Å—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª–∞ –ø—Ä–æ–∏–∑–Ω–µ—Å–µ–Ω–∞ —Ä–µ—á—å. Whisper —Ç–∞–∫–∂–µ
—Å–ø–æ—Å–æ–±–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –∑–∞–¥–∞—á—É - _–ø–µ—Ä–µ–≤–æ–¥–∞ —Ä–µ—á–∏_, –∫–æ–≥–¥–∞ –∞—É–¥–∏–æ–∑–∞–ø–∏—Å—å –Ω–∞ –∏—Å–ø–∞–Ω—Å–∫–æ–º —è–∑—ã–∫–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –≤ —Ç–µ–∫—Å—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º.
–î–ª—è —ç—Ç–æ–≥–æ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –∫–ª—é—á—É `"task"` –∑–Ω–∞—á–µ–Ω–∏–µ `"translate"`:

```python
pipe(sample["audio"], max_new_tokens=256, generate_kwargs={"task": "translate"})
```
**Output:**
```
{'text': ' So you will choose in Jehovah and I will raise you on the heights of the earth and I will give you the honor of Jacob to your father because the voice of Jehovah has spoken to you.'}
```

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –∑–Ω–∞–µ–º, —á—Ç–æ –º–æ–∂–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º —Ä–µ—á–∏ –∏ –µ–µ –ø–µ—Ä–µ–≤–æ–¥–æ–º, –º—ã –º–æ–∂–µ–º –≤—ã–±–∏—Ä–∞—Ç—å –∑–∞–¥–∞—á—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π.
–õ–∏–±–æ –º—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–µ–º –∑–≤—É–∫ –Ω–∞ —è–∑—ã–∫–µ X –≤ —Ç–µ–∫—Å—Ç –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ X (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–∞–Ω—Å–∫–∏–π –∑–≤—É–∫ –≤ –∏—Å–ø–∞–Ω—Å–∫–∏–π —Ç–µ–∫—Å—Ç), –ª–∏–±–æ –ø–µ—Ä–µ–≤–æ–¥–∏–º —Å –ª—é–±–æ–≥–æ —è–∑—ã–∫–∞ X –≤ —Ç–µ–∫—Å—Ç
–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–∞–Ω—Å–∫–∏–π –∑–≤—É–∫ –≤ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ–∫—Å—Ç).

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–æ–º, –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç `"task"` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, —Å–º. –≤ [–∫–∞—Ä—Ç–æ—á–∫–µ –º–æ–¥–µ–ª–∏](https://huggingface.co/openai/whisper-base#usage)
–¥–ª—è –±–∞–∑–æ–≤–æ–π –º–æ–¥–µ–ª–∏ Whisper.

## –î–ª–∏–Ω–Ω–æ—Ñ–æ—Ä–º–∞—Ç–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

–ü–æ–∫–∞ –º—ã –±—ã–ª–∏ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω—ã –Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∞—É–¥–∏–æ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –º–µ–Ω–µ–µ 30 —Å–µ–∫—É–Ω–¥. –ú—ã —É–∂–µ —É–ø–æ–º–∏–Ω–∞–ª–∏, —á—Ç–æ –æ–¥–Ω–æ–π –∏–∑ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã—Ö
—Å—Ç–æ—Ä–æ–Ω Whisper —è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –¥–ª–∏–Ω–Ω—ã–º–∏ –∞—É–¥–∏–æ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏. –í —ç—Ç–æ–π —á–∞—Å—Ç–∏ —Ä–∞–∑–¥–µ–ª–∞ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç—Ç—É –∑–∞–¥–∞—á—É!

–°–æ–∑–¥–∞–¥–∏–º –¥–ª–∏–Ω–Ω—ã–π –∞—É–¥–∏–æ—Ñ–∞–π–ª –ø—É—Ç–µ–º –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–∫ –∏–∑ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö MLS. –ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö MLS —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø—É—Ç–µ–º —Ä–∞–∑–±–∏–µ–Ω–∏—è
–¥–ª–∏–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –∞—É–¥–∏–æ–∫–Ω–∏–≥ –Ω–∞ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–µ–≥–º–µ–Ω—Ç—ã, –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è –æ–±—Ä–∞–∑—Ü–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç—Ä—ã–≤–∫–æ–≤ –∞—É–¥–∏–æ–∫–Ω–∏–≥.
–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π –∑–≤—É–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω—ã–º –ø–æ –≤—Å–µ–π –≤—ã–±–æ—Ä–∫–µ.

–ú—ã —É—Å—Ç–∞–Ω–æ–≤–∏–º —Ü–µ–ª–µ–≤—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤—É–∫–∞ –≤ 5 –º–∏–Ω—É—Ç –∏ –ø—Ä–µ–∫—Ä–∞—Ç–∏–º –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—é —Å—ç–º–ø–ª–æ–≤, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç–∏–≥–Ω–µ–º —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:

```python
import numpy as np

target_length_in_m = 5

# –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–∑ –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥—ã (* 60) –≤ —á–∏—Å–ª–æ –≤—ã–±–æ—Ä–æ–∫ (* —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏)
sampling_rate = pipe.feature_extractor.sampling_rate
target_length_in_samples = target_length_in_m * 60 * sampling_rate

# –∏—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è –ø–æ –Ω–∞—à–µ–º—É –ø–æ—Ç–æ–∫–æ–≤–æ–º—É –Ω–∞–±–æ—Ä—É –¥–∞–Ω–Ω—ã—Ö, –∫–æ–Ω–∫–∞—Ç–µ–Ω–∏—Ä—É—è –≤—ã–±–æ—Ä–∫–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –º—ã –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ–º –Ω–∞—à–µ–π —Ü–µ–ª–∏
long_audio = []
for sample in dataset:
    long_audio.extend(sample["audio"]["array"])
    if len(long_audio) > target_length_in_samples:
        break

long_audio = np.asarray(long_audio)

# —á—Ç–æ —É –Ω–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å?
seconds = len(long_audio) / 16000
minutes, seconds = divmod(seconds, 60)
print(f"Length of audio sample is {minutes} minutes {seconds:.2f} seconds")
```
**Output:**
```
Length of audio sample is 5.0 minutes 17.22 seconds
```

–û—Ç–ª–∏—á–Ω–æ! –û—Å—Ç–∞–ª–æ—Å—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å 5 –º–∏–Ω—É—Ç 17 —Å–µ–∫—É–Ω–¥ –∞—É–¥–∏–æ–∑–∞–ø–∏—Å–∏. –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ç–∞–∫–æ–≥–æ –¥–ª–∏–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –º–æ–¥–µ–ª—å
–≤–æ–∑–Ω–∏–∫–∞—é—Ç –¥–≤–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. Whisper –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ —Ä–∞–±–æ—Ç—É —Å 30-—Å–µ–∫—É–Ω–¥–Ω—ã–º–∏ –æ–±—Ä–∞–∑—Ü–∞–º–∏: –≤—Å–µ, —á—Ç–æ –∫–æ—Ä–æ—á–µ 30 —Å–µ–∫—É–Ω–¥, –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–∏—à–∏–Ω–æ–π, –≤—Å–µ, —á—Ç–æ –¥–ª–∏–Ω–Ω–µ–µ 30 —Å–µ–∫—É–Ω–¥, —É—Å–µ–∫–∞–µ—Ç—Å—è –¥–æ 30 —Å–µ–∫—É–Ω–¥ –ø—É—Ç–µ–º –≤—ã—Ä–µ–∑–∞–Ω–∏—è –ª–∏—à–Ω–µ–≥–æ –∑–≤—É–∫–∞, –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –º—ã –ø–µ—Ä–µ–¥–∞–¥–∏–º –Ω–∞—à –∑–≤—É–∫ –Ω–∞–ø—Ä—è–º—É—é, —Ç–æ –ø–æ–ª—É—á–∏–º —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã—Ö 30 —Å–µ–∫—É–Ω–¥
2. –ü–∞–º—è—Ç—å –≤ —Å–µ—Ç–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–≤–∞–¥—Ä–∞—Ç–∞ –¥–ª–∏–Ω—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: —É–¥–≤–æ–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –≤—Ö–æ–¥–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –ø–∞–º—è—Ç–∏ –≤ —á–µ—Ç—ã—Ä–µ —Ä–∞–∑–∞, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–¥–∞—á–∞ –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã—Ö –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ "–≤–Ω–µ –ø–∞–º—è—Ç–∏" (out-of-memory)

–î–ª–∏–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –≤ ü§ó Transformers –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø—É—Ç–µ–º _—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏_ (–æ—Ç –∞–Ω–≥–ª. chunking) –≤—Ö–æ–¥–Ω–æ–≥–æ –∞—É–¥–∏–æ –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –∏ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã.
–ö–∞–∂–¥—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∏–º–µ–µ—Ç –Ω–µ–±–æ–ª—å—à–æ–µ –Ω–∞–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —Ç–æ—á–Ω–æ —Å–æ–µ–¥–∏–Ω—è—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö,
—Ç–∞–∫ –∫–∞–∫ –º—ã –º–æ–∂–µ–º –Ω–∞–π—Ç–∏ –Ω–∞–ª–æ–∂–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:

<div class="flex justify-center">
     <img src="https://huggingface.co/blog/assets/49_asr_chunking/Striding.png" alt="ü§ó Transformers chunking algorithm. Source: https://huggingface.co/blog/asr-chunking.">
</div>

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—É–¥–∏–æ–æ–±—Ä–∞–∑—Ü–æ–≤ –Ω–∞ —á–∞—Å—Ç–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –Ω–∞–º –Ω–µ –Ω—É–∂–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –Ω–µ–±–æ–ª—å—à–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –∞—É–¥–∏–æ—Å–∏–≥–Ω–∞–ª–∞ \\( i \\)
–¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ \\( i + 1 \\). –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã
—Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–ª–∏ –≤—Å–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤, –ø–æ—ç—Ç–æ–º—É –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –º—ã –∏—Ö —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ–º. –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–ª–Ω–æ—Å—Ç—å—é **–Ω–µ—Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã–π**,
–ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –¥–∞–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç \\( i + 1 \\) –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–º \\( i \\)! –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º _–ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞—Ç—å_ (–æ—Ç –∞–Ω–≥–ª. batch) —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
–∏ –ø—Ä–æ–≥–æ–Ω—è—Ç—å –∏—Ö —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∏—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–µ–π. –ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ
–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∏ –≤ ü§ó Transformers –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤ [–ø–æ—Å—Ç–µ –∏–∑ –±–ª–æ–≥–∞](https://huggingface.co/blog/asr-chunking).

–î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–¥–∏–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∫–æ–Ω–≤–µ–π–µ—Ä–∞. –≠—Ç–æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç, `chunk_length_s`,
–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–ª–∏–Ω—É —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö. –î–ª—è Whisper –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —è–≤–ª—è–µ—Ç—Å—è 30-—Å–µ–∫—É–Ω–¥–Ω–∞—è –¥–ª–∏–Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–ª–∏–Ω–µ
–≤—Ö–æ–¥–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞, –æ–∂–∏–¥–∞–µ–º–æ–≥–æ Whisper.

–ß—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–Ω–≤–µ–π–µ—Ä—É –∞—Ä–≥—É–º–µ–Ω—Ç `batch_size`. –ï—Å–ª–∏ —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ —ç—Ç–æ –≤–æ–µ–¥–∏–Ω–æ,
—Ç–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –¥–ª–∏–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ–æ–±—Ä–∞–∑—Ü–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —á–∞–Ω–∫–∏–Ω–≥–∞ –∏ –±–∞—Ç—á–∏–Ω–≥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```python
pipe(
    long_audio,
    max_new_tokens=256,
    generate_kwargs={"task": "transcribe"},
    chunk_length_s=30,
    batch_size=8,
)
```
**Output:**
```
{'text': ' Entonces te deleitar√°s en Jehov√°, y yo te har√© subir sobre las alturas de la tierra, y te dar√© a comer la
heredad de Jacob tu padre, porque la boca de Jehov√° lo ha hablado. nosotros curados. Todos nosotros nos descarriamos
como bejas, cada cual se apart√≥ por su camino, mas Jehov√° carg√≥ en √©l el pecado de todos nosotros...
```

–ú—ã –Ω–µ –±—É–¥–µ–º –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∑–¥–µ—Å—å –≤–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –¥–æ–≤–æ–ª—å–Ω–æ –¥–ª–∏–Ω–Ω—ã–π (–≤—Å–µ–≥–æ 312 —Å–ª–æ–≤)! –ù–∞ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ V100
—Å –ø–∞–º—è—Ç—å—é 16 –ì–±–∞–π—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–π –≤—ã—à–µ —Å—Ç—Ä–æ–∫–∏ –∑–∞–π–º–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 3,45 —Å–µ–∫—É–Ω–¥—ã, —á—Ç–æ –≤–µ—Å—å–º–∞ –Ω–µ–ø–ª–æ—Ö–æ –¥–ª—è 317-—Å–µ–∫—É–Ω–¥–Ω–æ–≥–æ –∞—É–¥–∏–æ–æ–±—Ä–∞–∑—Ü–∞.
–ù–∞ CPU –æ–∂–∏–¥–∞–µ—Ç—Å—è –æ–∫–æ–ª–æ 30 —Å–µ–∫—É–Ω–¥.

Whisper —Ç–∞–∫–∂–µ —Å–ø–æ—Å–æ–±–µ–Ω –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å _–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏_ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã—Ö. –≠—Ç–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –æ—Ç—Ä—ã–≤–∫–∞ –∞—É–¥–∏–æ–∑–∞–ø–∏—Å–∏ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å –≤—Ö–æ–¥–Ω—ã–º –∞—É–¥–∏–æ—Å–∏–≥–Ω–∞–ª–æ–º. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –º—ã —Ö–æ—Ç–∏–º
—Å–æ–∑–¥–∞—Ç—å —Å—É–±—Ç–∏—Ç—Ä—ã –¥–ª—è –≤–∏–¥–µ–æ - –Ω–∞–º –Ω—É–∂–Ω—ã —ç—Ç–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏, —á—Ç–æ–±—ã –∑–Ω–∞—Ç—å, –∫–∞–∫–∞—è —á–∞—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É
—Å–µ–≥–º–µ–Ω—Ç—É –≤–∏–¥–µ–æ, —á—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –¥–ª—è —ç—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç `return_timestamps=True`. –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
—Å –º–µ—Ç–æ–¥–∞–º–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–∞–Ω–µ–µ, –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç timestamp –∫ –Ω–∞—à–µ–º—É
–ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –≤—ã–∑–æ–≤—É:

```python
pipe(
    long_audio,
    max_new_tokens=256,
    generate_kwargs={"task": "transcribe"},
    chunk_length_s=30,
    batch_size=8,
    return_timestamps=True,
)["chunks"]
```
**Output:**
```
[{'timestamp': (0.0, 26.4),
  'text': ' Entonces te deleitar√°s en Jehov√°, y yo te har√© subir sobre las alturas de la tierra, y te dar√© a comer la heredad de Jacob tu padre, porque la boca de Jehov√° lo ha hablado. nosotros curados. Todos nosotros nos descarriamos como bejas, cada cual se apart√≥ por su camino,'},
 {'timestamp': (26.4, 32.48),
  'text': ' mas Jehov√° carg√≥ en √©l el pecado de todos nosotros. No es que partas tu pan con el'},
 {'timestamp': (32.48, 38.4),
  'text': ' hambriento y a los hombres herrantes metas en casa, que cuando vieres al desnudo lo cubras y no'},
 ...
```

–ò –≤—É–∞–ª—è! –£ –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏.

## –ò—Ç–æ–≥–∏

Whisper - —ç—Ç–æ —Å–∏–ª—å–Ω–∞—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–≤–æ–¥–∞ —Ä–µ—á–∏. –ü–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å Wav2Vec2, –æ–Ω –æ–±–ª–∞–¥–∞–µ—Ç –±–æ–ª–µ–µ
–≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏, –ø—Ä–∏ —ç—Ç–æ–º –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä. –û–Ω –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
—Ä–µ—á–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∏ 96 –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö, –∫–∞–∫ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∞—É–¥–∏–æ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ö, —Ç–∞–∫ –∏ –Ω–∞ –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—ã—Ö –∑–∞ —Å—á–µ—Ç _—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è_. –≠—Ç–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–µ–ª–∞—é—Ç
–µ–≥–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–π –º–æ–¥–µ–ª—å—é –¥–ª—è –º–Ω–æ–≥–∏—Ö –∑–∞–¥–∞—á —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–æ–±—É—á–µ–Ω–∏—è. –ú–µ—Ç–æ–¥ `pipeline()` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–π
—Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã–≤–æ–¥–æ–≤ –≤ –≤–∏–¥–µ –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ API —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –Ω–∞–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–º–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏.

–í —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –º–æ–¥–µ–ª—å Whisper –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –º–Ω–æ–≥–∏—Ö —è–∑—ã–∫–∞—Ö —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤, –æ–Ω–∞ –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –Ω–∏–∑–∫—É—é
—Ç–æ—á–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞ —è–∑—ã–∫–∞—Ö —Å –º–∞–ª—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤, —Ç.–µ. –Ω–∞ —è–∑—ã–∫–∞—Ö —Å –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ä–∞–∑–ª–∏—á–∏—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏ –∏ –¥–∏–∞–ª–µ–∫—Ç–∞–º–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —è–∑—ã–∫–æ–≤, –≤–∫–ª—é—á–∞—è –±–æ–ª–µ–µ –Ω–∏–∑–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è
–Ω–æ—Å–∏—Ç–µ–ª–µ–π —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª–æ–≤, —Ä–∞—Å, –≤–æ–∑—Ä–∞—Å—Ç–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, [Whisper paper](https://arxiv.org/pdf/2212.04356.pdf)).

–î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —è–∑—ã–∫–∞–º–∏, –∞–∫—Ü–µ–Ω—Ç–∞–º–∏ –∏–ª–∏ –¥–∏–∞–ª–µ–∫—Ç–∞–º–∏, –Ω–µ –∏–º–µ—é—â–∏–º–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ—Å—É—Ä—Å–æ–≤, –º—ã –º–æ–∂–µ–º –≤–∑—è—Ç—å
–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å Whisper –∏ –æ–±—É—á–∏—Ç—å –µ–µ –Ω–∞ –Ω–µ–±–æ–ª—å—à–æ–º –∫–æ—Ä–ø—É—Å–µ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–æ–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º, –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ,
–Ω–∞–∑—ã–≤–∞–µ–º–æ–º _–¥–æ–æ–±—É—á–µ–Ω–∏–µ–º_. –ú—ã –ø–æ–∫–∞–∂–µ–º, —á—Ç–æ –≤—Å–µ–≥–æ –¥–µ—Å—è—Ç—å —á–∞—Å–æ–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ Whisper –±–æ–ª–µ–µ
—á–µ–º –Ω–∞ 100% –Ω–∞ —è–∑—ã–∫–µ —Å –Ω–∏–∑–∫–∏–º —É—Ä–æ–≤–Ω–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤. –í —Å–ª–µ–¥—É—é—â–µ–π —Å–µ–∫—Ü–∏–∏ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–æ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏.
